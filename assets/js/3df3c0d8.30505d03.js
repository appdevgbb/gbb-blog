"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[7126],{651:e=>{e.exports=JSON.parse('{"permalink":"/2024/03/05/workload-identity-kv-csi","editUrl":"https://github.com/appdevgbb/gbb-blog/tree/main/docusaurus/blog/2024-03-05/workload-identity-kv-csi/index.md","source":"@site/blog/2024-03-05/workload-identity-kv-csi/index.md","title":"Using the Azure Key Vault CSI Driver with Workload Identity","description":"Setting up an AKS cluster with Workload Identity and the Key Vault CSI driver and using them from a SecretProviderClass and Pod to load secrets.","date":"2024-03-05T00:00:00.000Z","tags":[],"readingTime":6.8,"hasTruncateMarker":true,"authors":[{"name":"Steve Griffith","title":"Principal Cloud Architect, Azure Global Black Belt","url":"https://github.com/swgriffith","socials":{"x":"https://x.com/SteveGriffith","github":"https://github.com/swgriffith"},"imageURL":"https://github.com/swgriffith.png","key":"steve_griffith","page":null}],"frontMatter":{"authors":["steve_griffith"],"date":"2024-03-05","description":"Setting up an AKS cluster with Workload Identity and the Key Vault CSI driver and using them from a SecretProviderClass and Pod to load secrets.","tags":[],"title":"Using the Azure Key Vault CSI Driver with Workload Identity"},"unlisted":false,"prevItem":{"title":"Using Project KAITO in AKS","permalink":"/2024/04/16/aks-kaito"},"nextItem":{"title":"Securing your AKS cluster with a Linux Firewall VM","permalink":"/2024/02/02/securing-your-aks-cluster-with-a-linux-firewall-vm"}}')},3528:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>u});var i=r(651),a=r(4848),n=r(8453);const s={authors:["steve_griffith"],date:"2024-03-05",description:"Setting up an AKS cluster with Workload Identity and the Key Vault CSI driver and using them from a SecretProviderClass and Pod to load secrets.",tags:[],title:"Using the Azure Key Vault CSI Driver with Workload Identity"},o="Workload Identity - Key Vault CSI Driver",l={authorsImageUrls:[void 0]},u=[];function c(e){const t={a:"a",p:"p",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"When working with secrets in an application running in Kubernetes, you can use native Kubernetes secrets, however there are limitations in the security of those secrets. A better practice is to use a secure vault, like Azure Key Vault."}),"\n",(0,a.jsxs)(t.p,{children:["Azure Key Vault can be accessed via a direct SDK call, as demonstrated in our previous ",(0,a.jsx)(t.a,{href:"https://azureglobalblackbelts.com/2023/09/21/workload-identity-example.html",children:"Workload Identity"})," post. However, in some cases you may not have the option to use the SDK, like in cases where you dont have access to source code. In those cases you may prefer to load secrets directly into an environment variable or a file. In these cases, the Azure Key Vault CSI driver is here to save the day."]})]})}function d(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>s,x:()=>o});var i=r(6540);const a={},n=i.createContext(a);function s(e){const t=i.useContext(n);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(n.Provider,{value:t},e.children)}}}]);